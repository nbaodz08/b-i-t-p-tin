<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Tr∆∞·ªùng THPT Nguy·ªÖn Khuy·∫øn - H·ªá th·ªëng ch√≠nh th·ª©c</title>
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@700;900&family=DM+Sans:wght@400;500;600&display=swap" rel="stylesheet">
  <style>
    /* ===== RESET & VARIABLES ===== */
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    :root {
      --navy: #0a2e1a;
      --gold: #f4c542;
      --cream: #edf7ed;
      --rust: #1a7a3c;
      --sage: #4caf72;
      --light: #f4fbf4;
      --red: #c0392b;
      --green: #27ae60;
      --purple: #6b2fa0;
      --orange: #e67e22;
      --gray: #f5f5f5;
      --text: #333;
      --border: rgba(10, 46, 26, 0.1);
    }

    body {
      font-family: 'DM Sans', sans-serif;
      background: var(--light);
      color: var(--text);
      overflow-x: hidden;
    }

    /* ===== UTILITY ===== */
    .hidden { display: none !important; }
    .flex { display: flex; }
    .grid { display: grid; }
    .text-center { text-align: center; }
    .mt-1 { margin-top: 0.5rem; }
    .mt-2 { margin-top: 1rem; }
    .mt-3 { margin-top: 1.5rem; }
    .mt-4 { margin-top: 2rem; }
    .mb-1 { margin-bottom: 0.5rem; }
    .mb-2 { margin-bottom: 1rem; }
    .mb-3 { margin-bottom: 1.5rem; }
    .p-1 { padding: 0.5rem; }
    .p-2 { padding: 1rem; }
    .p-3 { padding: 1.5rem; }
    .p-4 { padding: 2rem; }

    /* ===== NAVIGATION ===== */
    nav {
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      z-index: 1000;
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 1rem 4rem;
      background: rgba(10, 46, 26, 0.97);
      backdrop-filter: blur(12px);
      border-bottom: 1px solid rgba(244, 197, 66, 0.3);
    }

    .logo {
      font-family: 'Playfair Display', serif;
      font-size: 1.35rem;
      color: var(--gold);
      letter-spacing: 0.05em;
      cursor: pointer;
    }

    .logo span { color: #fff; }

    .nav-links {
      display: flex;
      gap: 2.2rem;
      list-style: none;
    }

    .nav-links a {
      text-decoration: none;
      color: rgba(255, 255, 255, 0.78);
      font-size: 0.85rem;
      font-weight: 500;
      letter-spacing: 0.08em;
      text-transform: uppercase;
      transition: color 0.3s;
      cursor: pointer;
    }

    .nav-links a:hover { color: var(--gold); }

    .nav-right {
      display: flex;
      align-items: center;
      gap: 1rem;
    }

    .nav-btn {
      background: var(--gold);
      color: var(--navy);
      padding: 0.55rem 1.3rem;
      border-radius: 6px;
      font-size: 0.82rem;
      font-weight: 600;
      cursor: pointer;
      border: none;
      letter-spacing: 0.05em;
      font-family: 'DM Sans', sans-serif;
      transition: transform 0.2s, box-shadow 0.2s;
    }

    .nav-btn:hover {
      transform: translateY(-1px);
      box-shadow: 0 6px 18px rgba(244, 197, 66, 0.4);
    }

    .auth-login-btn {
      background: transparent;
      border: 1px solid var(--gold);
      color: var(--gold);
    }

    .auth-register-btn {
      background: var(--gold);
      color: var(--navy);
    }

    .language-switcher {
      display: flex;
      gap: 0.2rem;
      margin-left: 1rem;
    }

    .lang-btn {
      padding: 0.2rem 0.5rem;
      border: 1px solid rgba(255, 255, 255, 0.3);
      background: none;
      color: rgba(255, 255, 255, 0.7);
      border-radius: 4px;
      font-size: 0.7rem;
      cursor: pointer;
    }

    .lang-btn.active {
      background: var(--gold);
      border-color: var(--gold);
      color: var(--navy);
      font-weight: 600;
    }

    .notification-bell {
      position: relative;
      cursor: pointer;
      font-size: 1.2rem;
      margin-left: 0.5rem;
    }

    .notif-badge {
      position: absolute;
      top: -8px;
      right: -8px;
      background: var(--red);
      color: #fff;
      font-size: 0.6rem;
      padding: 0.1rem 0.3rem;
      border-radius: 10px;
      min-width: 18px;
      text-align: center;
    }

    /* ===== MAIN CONTENT ===== */
    .main-content {
      margin-top: 70px;
      min-height: calc(100vh - 70px);
    }

    .page {
      display: none;
      animation: fadeIn 0.4s ease;
    }

    .page.active {
      display: block;
    }

    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(20px); }
      to { opacity: 1; transform: translateY(0); }
    }

    /* ===== PAGE HEADER ===== */
    .page-header {
      background: var(--navy);
      padding: 6rem 4rem 3rem;
      position: relative;
      overflow: hidden;
    }

    .page-header h1 {
      font-family: 'Playfair Display', serif;
      color: #fff;
      font-size: clamp(2rem, 4vw, 3.2rem);
      line-height: 1.15;
    }

    .page-header h1 em {
      color: var(--gold);
      font-style: italic;
    }

    .breadcrumb {
      display: flex;
      gap: 0.5rem;
      align-items: center;
      margin-bottom: 1rem;
      font-size: 0.8rem;
      color: rgba(255, 255, 255, 0.45);
    }

    .breadcrumb a {
      color: var(--gold);
      cursor: pointer;
      text-decoration: none;
    }

    /* ===== MODAL AUTH ===== */
    .modal-overlay {
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: rgba(0, 0, 0, 0.5);
      z-index: 2000;
      display: none;
    }

    .modal-overlay.active { display: block; }

    .auth-modal {
      position: fixed;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      background: #fff;
      border-radius: 24px;
      width: 90%;
      max-width: 500px;
      z-index: 2001;
      box-shadow: 0 30px 60px rgba(0, 0, 0, 0.3);
      display: none;
    }

    .auth-modal.active { display: block; }

    .auth-tabs {
      display: flex;
      border-bottom: 1px solid #eee;
      position: relative;
      padding: 0.5rem;
    }

    .auth-tab {
      flex: 1;
      padding: 1rem;
      background: none;
      border: none;
      font-weight: 600;
      color: #aaa;
      cursor: pointer;
    }

    .auth-tab.active {
      color: var(--navy);
      border-bottom: 2px solid var(--gold);
    }

    .auth-close {
      position: absolute;
      right: 1rem;
      top: 1rem;
      background: none;
      border: none;
      font-size: 1.2rem;
      cursor: pointer;
      color: #999;
    }

    .auth-form {
      padding: 2rem;
      display: none;
    }

    .auth-form.active { display: block; }

    .auth-form h3 {
      margin-bottom: 1.5rem;
      font-family: 'Playfair Display', serif;
    }

    .field {
      display: flex;
      flex-direction: column;
      gap: 0.4rem;
      margin-bottom: 1rem;
    }

    .field label {
      font-size: 0.82rem;
      font-weight: 600;
      color: var(--navy);
    }

    .field input, .field select, .field textarea {
      padding: 0.75rem 1rem;
      border: 1.5px solid rgba(10, 46, 26, 0.15);
      border-radius: 8px;
      font-family: 'DM Sans', sans-serif;
      font-size: 0.92rem;
      background: #fafafa;
      transition: border-color 0.2s;
      outline: none;
      width: 100%;
    }

    .field input:focus, .field select:focus {
      border-color: var(--gold);
      background: #fff;
    }

    .field-group {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 1rem;
    }

    .remember-row {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin: 1rem 0;
      font-size: 0.85rem;
    }

    .show-password {
      position: absolute;
      right: 12px;
      top: 35px;
      cursor: pointer;
      opacity: 0.6;
    }

    .social-login {
      margin-top: 1.5rem;
      text-align: center;
    }

    .social-buttons {
      display: flex;
      gap: 0.8rem;
      justify-content: center;
      margin-top: 0.5rem;
    }

    .social-btn {
      width: 40px;
      height: 40px;
      border-radius: 50%;
      border: 1px solid #ddd;
      background: #fff;
      cursor: pointer;
      font-weight: 600;
    }

    /* ===== DASHBOARD ===== */
    .dashboard-container {
      max-width: 1200px;
      margin: 2rem auto;
      padding: 0 2rem;
    }

    .dashboard-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 2rem;
      background: linear-gradient(135deg, var(--navy), #0e5c2a);
      padding: 1.5rem 2rem;
      border-radius: 16px;
      color: #fff;
    }

    .dashboard-user {
      display: flex;
      align-items: center;
      gap: 1rem;
    }

    .user-avatar {
      width: 60px;
      height: 60px;
      border-radius: 50%;
      background: var(--gold);
      display: grid;
      place-items: center;
      font-size: 2rem;
      color: var(--navy);
    }

    .user-role {
      font-size: 0.85rem;
      opacity: 0.8;
    }

    .dashboard-actions {
      display: flex;
      align-items: center;
      gap: 1rem;
    }

    .dashboard-tabs {
      display: flex;
      gap: 0.5rem;
      margin-bottom: 2rem;
      flex-wrap: wrap;
    }

    .dashboard-tab {
      padding: 0.5rem 1.2rem;
      border: 1px solid var(--border);
      background: #fff;
      border-radius: 100px;
      cursor: pointer;
      font-size: 0.85rem;
      transition: all 0.2s;
    }

    .dashboard-tab.active {
      background: var(--gold);
      border-color: var(--gold);
      color: var(--navy);
      font-weight: 600;
    }

    .dashboard-content {
      display: none;
    }

    .dashboard-content.active {
      display: block;
      animation: fadeIn 0.3s ease;
    }

    .dashboard-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
      gap: 1.5rem;
    }

    .dashboard-card {
      background: #fff;
      border-radius: 12px;
      padding: 1.2rem;
      border: 1px solid var(--border);
      box-shadow: 0 4px 10px rgba(0, 0, 0, 0.03);
    }

    .dashboard-card h3 {
      font-size: 0.95rem;
      margin-bottom: 1rem;
      color: var(--navy);
      border-left: 3px solid var(--gold);
      padding-left: 0.5rem;
    }

    .info-row {
      display: flex;
      justify-content: space-between;
      padding: 0.4rem 0;
      border-bottom: 1px dashed #eee;
      font-size: 0.85rem;
    }

    .gpa-circle {
      width: 80px;
      height: 80px;
      border-radius: 50%;
      background: linear-gradient(135deg, var(--gold), var(--rust));
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      margin: 0 auto 1rem;
      color: #fff;
    }

    .gpa-number {
      font-size: 2rem;
      font-weight: 700;
      line-height: 1;
    }

    .gpa-label {
      font-size: 0.7rem;
      opacity: 0.9;
    }

    .grade-good {
      color: var(--green);
    }

    .conduct-good {
      color: var(--green);
    }

    .btn-edit {
      background: none;
      border: 1px solid var(--border);
      padding: 0.4rem 1rem;
      border-radius: 6px;
      margin-top: 1rem;
      cursor: pointer;
      width: 100%;
    }

    /* ===== NOTIFICATION PANEL ===== */
    .notif-dropdown {
      position: absolute;
      top: 70px;
      right: 4rem;
      width: 360px;
      background: #fff;
      border-radius: 12px;
      box-shadow: 0 10px 40px rgba(0, 0, 0, 0.15);
      z-index: 1001;
      display: none;
    }

    .notif-dropdown.active { display: block; }

    .notif-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 0.8rem 1rem;
      border-bottom: 1px solid #eee;
    }

    .notif-header h4 { font-size: 0.9rem; }

    .notif-header button {
      background: none;
      border: none;
      color: var(--rust);
      font-size: 0.75rem;
      cursor: pointer;
    }

    .notif-list {
      max-height: 300px;
      overflow-y: auto;
    }

    .notif-item {
      display: flex;
      gap: 0.8rem;
      padding: 0.8rem 1rem;
      border-bottom: 1px solid #f0f0f0;
      cursor: pointer;
    }

    .notif-item:hover { background: rgba(244, 197, 66, 0.05); }
    .notif-item.unread { background: rgba(244, 197, 66, 0.08); }

    .notif-icon {
      width: 32px;
      height: 32px;
      background: var(--cream);
      border-radius: 50%;
      display: grid;
      place-items: center;
    }

    .notif-content { flex: 1; }
    .notif-title { font-weight: 600; font-size: 0.85rem; }
    .notif-preview { font-size: 0.75rem; color: #666; margin: 0.1rem 0; }
    .notif-time { font-size: 0.65rem; color: #aaa; }

    .notif-footer {
      display: flex;
      justify-content: space-between;
      padding: 0.8rem 1rem;
      border-top: 1px solid #eee;
      font-size: 0.8rem;
    }

    /* ===== H·ªåC B·∫† ƒêI·ªÜN T·ª¨ ===== */
    .grade-table {
      width: 100%;
      border-collapse: collapse;
      background: #fff;
      border-radius: 12px;
      overflow: hidden;
      margin: 1rem 0;
    }

    .grade-table th {
      background: var(--navy);
      color: #fff;
      padding: 0.8rem;
      font-size: 0.8rem;
    }

    .grade-table td {
      padding: 0.8rem;
      border-bottom: 1px solid #eee;
      text-align: center;
    }

    .grade-table tr:nth-child(even) { background: rgba(10, 46, 26, 0.02); }

    .grade-filter {
      display: flex;
      gap: 1rem;
      margin: 1rem 0;
      flex-wrap: wrap;
    }

    .semester-selector {
      display: flex;
      gap: 0.5rem;
    }

    .semester-btn {
      padding: 0.3rem 1rem;
      border: 1px solid var(--border);
      background: #fff;
      border-radius: 6px;
      cursor: pointer;
    }

    .semester-btn.active {
      background: var(--gold);
      border-color: var(--gold);
      color: var(--navy);
    }

    /* ===== H·ªåC PH√ç & THANH TO√ÅN ===== */
    .tuition-cards {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
      gap: 1.5rem;
      margin: 2rem 0;
    }

    .tuition-card {
      background: #fff;
      border-radius: 16px;
      overflow: hidden;
      border: 1px solid var(--border);
      position: relative;
    }

    .tuition-card.highlight {
      border: 2px solid var(--gold);
      transform: scale(1.02);
      box-shadow: 0 10px 30px rgba(244, 197, 66, 0.2);
    }

    .badge-hot {
      position: absolute;
      top: 12px;
      right: 12px;
      background: var(--gold);
      color: var(--navy);
      padding: 0.2rem 0.8rem;
      border-radius: 100px;
      font-size: 0.7rem;
      font-weight: 600;
    }

    .tuition-header {
      background: var(--navy);
      color: #fff;
      padding: 0.8rem;
      text-align: center;
      font-weight: 700;
    }

    .tuition-body {
      padding: 1.5rem;
      text-align: center;
    }

    .tuition-amount {
      font-size: 2rem;
      font-family: 'Playfair Display', serif;
      font-weight: 900;
      color: var(--navy);
    }

    .tuition-desc {
      font-size: 0.8rem;
      color: #999;
      margin-bottom: 1rem;
    }

    .tuition-includes {
      list-style: none;
      text-align: left;
      font-size: 0.85rem;
      color: #666;
      margin: 1rem 0;
    }

    .tuition-includes li {
      padding: 0.3rem 0;
    }

    .fee-table {
      width: 100%;
      border-collapse: collapse;
      background: #fff;
      border-radius: 12px;
      overflow: hidden;
    }

    .fee-table th {
      background: var(--navy);
      color: #fff;
      padding: 0.8rem;
    }

    .fee-table td {
      padding: 0.8rem;
      border-bottom: 1px solid #eee;
    }

    .status-paid {
      color: var(--green);
      font-weight: 600;
    }

    .status-unpaid {
      color: var(--orange);
      font-weight: 600;
    }

    .total-row {
      background: rgba(244, 197, 66, 0.1);
      font-weight: 700;
    }

    .payment-methods {
      margin-top: 2rem;
    }

    .payment-options {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 0.8rem;
      margin: 1rem 0;
    }

    .payment-option {
      display: flex;
      align-items: center;
      gap: 0.5rem;
      padding: 0.8rem;
      border: 1px solid #ddd;
      border-radius: 8px;
      cursor: pointer;
    }

    .payment-option:hover {
      background: rgba(244, 197, 66, 0.05);
    }

    .payment-option input[type="radio"] {
      width: auto;
      margin-right: 0.5rem;
    }

    .bank-info {
      background: #f8f9fa;
      border-radius: 8px;
      padding: 1rem;
      margin: 1rem 0;
      font-size: 0.85rem;
    }

    /* ===== L·ªäCH H·ªåC ===== */
    .schedule-grid {
      display: grid;
      grid-template-columns: repeat(7, 1fr);
      gap: 0.5rem;
      background: #fff;
      border-radius: 12px;
      padding: 1rem;
    }

    .schedule-day {
      border: 1px solid var(--border);
      border-radius: 8px;
      min-height: 120px;
      padding: 0.5rem;
    }

    .schedule-day-header {
      font-weight: 700;
      color: var(--navy);
      margin-bottom: 0.5rem;
      font-size: 0.8rem;
    }

    .schedule-item {
      font-size: 0.7rem;
      padding: 0.2rem;
      margin: 0.2rem 0;
      background: rgba(244, 197, 66, 0.1);
      border-radius: 4px;
    }

    .schedule-item.highlight {
      background: var(--gold);
      color: var(--navy);
      font-weight: 600;
    }

    /* ===== TH∆Ø VI·ªÜN T√ÄI LI·ªÜU ===== */
    .library-cats {
      display: flex;
      flex-wrap: wrap;
      gap: 0.5rem;
      margin: 1.5rem 0;
    }

    .cat-btn {
      padding: 0.4rem 1.2rem;
      border: 1px solid #ddd;
      border-radius: 100px;
      background: #fff;
      cursor: pointer;
    }

    .cat-btn.active {
      background: var(--gold);
      border-color: var(--gold);
      color: var(--navy);
      font-weight: 600;
    }

    .library-search {
      display: flex;
      gap: 0.8rem;
      margin: 1.5rem 0;
    }

    .library-search input {
      flex: 2;
      padding: 0.8rem;
      border: 1px solid #ddd;
      border-radius: 8px;
    }

    .library-search select {
      flex: 1;
      padding: 0.8rem;
      border: 1px solid #ddd;
      border-radius: 8px;
    }

    .doc-grid {
      display: flex;
      flex-direction: column;
      gap: 0.8rem;
    }

    .doc-card {
      display: flex;
      align-items: center;
      gap: 1rem;
      background: #fff;
      border-radius: 10px;
      padding: 0.8rem 1.2rem;
      border: 1px solid var(--border);
    }

    .doc-icon {
      font-size: 2rem;
      width: 48px;
      text-align: center;
    }

    .doc-info {
      flex: 2;
    }

    .doc-info h4 {
      font-size: 0.9rem;
      margin-bottom: 0.2rem;
    }

    .doc-meta {
      font-size: 0.75rem;
      color: #888;
      margin-bottom: 0.3rem;
    }

    .doc-tags {
      display: flex;
      gap: 0.3rem;
    }

    .doc-tag {
      font-size: 0.65rem;
      background: #f0f0f0;
      padding: 0.15rem 0.5rem;
      border-radius: 100px;
    }

    .doc-actions {
      display: flex;
      gap: 0.5rem;
    }

    .btn-download, .btn-preview, .btn-play {
      width: 32px;
      height: 32px;
      border-radius: 50%;
      border: 1px solid #ddd;
      background: #fff;
      cursor: pointer;
    }

    /* ===== PH·∫¢N H·ªíI ===== */
    .feedback-form {
      background: #fff;
      border-radius: 12px;
      padding: 1.5rem;
      margin: 1.5rem 0;
    }

    .rating-stars {
      display: flex;
      gap: 0.2rem;
      font-size: 2rem;
      color: #ddd;
      cursor: pointer;
    }

    .rating-stars .star.active {
      color: var(--gold);
    }

    .feedback-item {
      background: #fff;
      border-radius: 10px;
      padding: 1.2rem;
      margin-bottom: 1rem;
      border: 1px solid var(--border);
    }

    .fb-header {
      display: flex;
      gap: 0.8rem;
      align-items: center;
      margin-bottom: 0.3rem;
      font-size: 0.8rem;
    }

    .fb-name {
      font-weight: 600;
    }

    .fb-date {
      color: #999;
    }

    .fb-badge {
      padding: 0.15rem 0.6rem;
      background: var(--green);
      color: #fff;
      border-radius: 100px;
      font-size: 0.7rem;
    }

    .fb-badge.pending {
      background: var(--orange);
    }

    .fb-stars {
      color: var(--gold);
      margin-bottom: 0.3rem;
    }

    .fb-reply {
      background: rgba(10, 46, 26, 0.05);
      border-left: 3px solid var(--gold);
      padding: 0.8rem;
      margin-top: 0.5rem;
    }

    /* ===== TRA C·ª®U K·∫æT QU·∫¢ ===== */
    .lookup-tabs {
      display: flex;
      gap: 0.5rem;
      margin: 1.5rem 0;
    }

    .tab-result {
      flex: 1;
      padding: 0.7rem;
      background: #fff;
      border: 1px solid #ddd;
      border-radius: 8px;
      cursor: pointer;
    }

    .tab-result.active {
      background: var(--gold);
      border-color: var(--gold);
      color: var(--navy);
      font-weight: 600;
    }

    .lookup-form {
      background: #fff;
      border-radius: 12px;
      padding: 1.5rem;
      margin: 1.5rem 0;
    }

    .captcha-box {
      display: flex;
      align-items: center;
      gap: 0.5rem;
    }

    .captcha {
      padding: 0.5rem 1rem;
      background: #f0f0f0;
      border: 1px dashed #999;
      border-radius: 6px;
      font-weight: 700;
      font-style: italic;
    }

    .refresh-captcha {
      background: none;
      border: 1px solid #ddd;
      width: 36px;
      height: 36px;
      border-radius: 6px;
      cursor: pointer;
    }

    .result-card {
      background: #fff;
      border-radius: 16px;
      padding: 2rem;
      margin-top: 2rem;
      border: 1px solid var(--border);
    }

    .result-card.pass {
      border-left: 5px solid var(--green);
    }

    .result-card.fail {
      border-left: 5px solid var(--red);
    }

    .result-header {
      display: flex;
      gap: 1rem;
      align-items: center;
      margin-bottom: 1.5rem;
    }

    .result-icon {
      font-size: 3rem;
    }

    .result-detail-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
      gap: 0.8rem;
      margin: 1.5rem 0;
    }

    .result-detail-item {
      background: rgba(10, 46, 26, 0.04);
      border-radius: 8px;
      padding: 0.8rem;
      text-align: center;
    }

    .result-detail-item.total {
      background: rgba(244, 197, 66, 0.15);
      border: 1px solid var(--gold);
    }

    .rd-label {
      display: block;
      font-size: 0.7rem;
      color: #999;
    }

    .rd-value {
      font-size: 1.4rem;
      font-weight: 700;
      color: var(--navy);
    }

    .grade-pass {
      color: var(--green);
    }

    .result-actions {
      display: flex;
      gap: 0.8rem;
      justify-content: center;
      margin: 1.5rem 0;
      flex-wrap: wrap;
    }

    /* ===== CHAT WIDGET ===== */
    .chat-button {
      position: fixed;
      bottom: 30px;
      right: 30px;
      width: 60px;
      height: 60px;
      background: var(--gold);
      border-radius: 50%;
      display: grid;
      place-items: center;
      font-size: 1.8rem;
      cursor: pointer;
      box-shadow: 0 5px 20px rgba(244, 197, 66, 0.4);
      z-index: 999;
    }

    .chat-badge {
      position: absolute;
      top: -5px;
      right: -5px;
      background: var(--red);
      color: #fff;
      font-size: 0.7rem;
      padding: 0.15rem 0.4rem;
      border-radius: 10px;
      min-width: 20px;
      text-align: center;
    }

    .chat-widget {
      position: fixed;
      bottom: 100px;
      right: 30px;
      width: 360px;
      height: 500px;
      background: #fff;
      border-radius: 16px;
      box-shadow: 0 10px 40px rgba(0, 0, 0, 0.2);
      z-index: 1000;
      display: none;
      flex-direction: column;
    }

    .chat-widget.active {
      display: flex;
    }

    .chat-header {
      background: linear-gradient(135deg, var(--navy), #0e5c2a);
      color: #fff;
      padding: 0.8rem 1rem;
      border-radius: 16px 16px 0 0;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    .chat-title {
      display: flex;
      gap: 0.5rem;
      align-items: center;
    }

    .chat-avatar {
      font-size: 1.5rem;
    }

    .chat-status {
      font-size: 0.7rem;
      opacity: 0.8;
    }

    .chat-close {
      background: none;
      border: none;
      color: #fff;
      font-size: 1.2rem;
      cursor: pointer;
    }

    .chat-messages {
      flex: 1;
      overflow-y: auto;
      padding: 1rem;
      display: flex;
      flex-direction: column;
      gap: 0.5rem;
    }

    .message {
      max-width: 85%;
      padding: 0.5rem 0.8rem;
      border-radius: 12px;
      position: relative;
    }

    .message.bot {
      background: var(--cream);
      align-self: flex-start;
      border-bottom-left-radius: 4px;
    }

    .message.user {
      background: var(--gold);
      color: var(--navy);
      align-self: flex-end;
      border-bottom-right-radius: 4px;
    }

    .msg-time {
      font-size: 0.6rem;
      opacity: 0.6;
      display: block;
      margin-top: 0.2rem;
      text-align: right;
    }

    .quick-replies {
      display: flex;
      flex-wrap: wrap;
      gap: 0.3rem;
      padding: 0.5rem 1rem;
      border-top: 1px solid #eee;
    }

    .quick-btn {
      padding: 0.2rem 0.8rem;
      border: 1px solid var(--gold);
      border-radius: 100px;
      background: #fff;
      font-size: 0.75rem;
      cursor: pointer;
    }

    .chat-input-area {
      display: flex;
      padding: 0.5rem 1rem;
      border-top: 1px solid #eee;
    }

    .chat-input-area input {
      flex: 1;
      padding: 0.5rem;
      border: 1px solid #ddd;
      border-radius: 8px;
      outline: none;
    }

    .send-btn {
      background: var(--gold);
      border: none;
      width: 36px;
      height: 36px;
      border-radius: 8px;
      margin-left: 0.5rem;
      cursor: pointer;
    }

    .chat-footer {
      display: flex;
      justify-content: space-between;
      padding: 0.3rem 1rem;
      background: #f5f5f5;
      font-size: 0.65rem;
      color: #666;
      border-radius: 0 0 16px 16px;
    }

    /* ===== BUTTONS ===== */
    .btn-primary {
      background: var(--gold);
      color: var(--navy);
      padding: 0.75rem 2rem;
      border-radius: 8px;
      border: none;
      font-family: 'DM Sans', sans-serif;
      font-size: 0.92rem;
      font-weight: 600;
      cursor: pointer;
      transition: transform 0.2s, box-shadow 0.2s;
    }

    .btn-primary:hover {
      transform: translateY(-2px);
      box-shadow: 0 8px 20px rgba(10, 46, 26, 0.2);
    }

    .btn-outline {
      border: 1px solid rgba(255, 255, 255, 0.3);
      color: #fff;
      padding: 0.55rem 1.3rem;
      border-radius: 6px;
      font-size: 0.82rem;
      font-weight: 500;
      background: none;
      cursor: pointer;
    }

    .btn-outline:hover {
      border-color: var(--gold);
      background: rgba(244, 197, 66, 0.1);
    }

    .btn-large {
      padding: 1rem 2rem;
      font-size: 1rem;
    }

    /* ===== FOOTER ===== */
    footer {
      background: #041509;
      color: rgba(255, 255, 255, 0.5);
      padding: 2.5rem 4rem;
      display: flex;
      align-items: center;
      justify-content: space-between;
      flex-wrap: wrap;
      gap: 1rem;
      margin-top: 2rem;
    }

    footer .logo {
      color: var(--gold);
      font-size: 1.1rem;
    }

    /* ===== RESPONSIVE ===== */
    @media (max-width: 960px) {
      nav { padding: 1rem 1.5rem; }
      .nav-links { display: none; }
      .dashboard-tabs { overflow-x: auto; }
      .auth-modal { width: 95%; }
    }
  </style>
</head>
<body>
  <!-- ===== NAVIGATION ===== -->
  <nav>
    <div class="logo" onclick="showHome()">Nguy·ªÖn <span>Khuy·∫øn</span></div>
    <ul class="nav-links">
      <li><a onclick="showHome()">Trang ch·ªß</a></li>
      <li><a onclick="showSection('gioi-thieu')">Gi·ªõi thi·ªáu</a></li>
      <li><a onclick="showSection('chuong-trinh')">Ch∆∞∆°ng tr√¨nh</a></li>
      <li><a onclick="showSection('giao-vien')">Gi√°o vi√™n</a></li>
      <li><a onclick="showSection('tin-tuc')">Tin t·ª©c</a></li>
    </ul>
    <div class="nav-right">
      <div class="language-switcher">
        <button class="lang-btn active" onclick="switchLanguage('vi')">üáªüá≥ VI</button>
        <button class="lang-btn" onclick="switchLanguage('en')">üá¨üáß EN</button>
      </div>
      <div class="notification-bell" onclick="toggleNotifPanel()">
        üîî
        <span class="notif-badge" id="navNotifBadge">3</span>
      </div>
      <button class="nav-btn auth-login-btn" onclick="openAuthModal('login')">ƒêƒÉng nh·∫≠p</button>
      <button class="nav-btn auth-register-btn" onclick="openAuthModal('register')">ƒêƒÉng k√Ω</button>
    </div>
  </nav>

  <!-- ===== MODAL AUTH ===== -->
  <div class="modal-overlay" id="authOverlay" onclick="closeAuthModal()"></div>
  <div class="auth-modal" id="authModal">
    <div class="auth-tabs">
      <button class="auth-tab active" data-tab="login" onclick="switchAuthTab('login')">ƒêƒÉng nh·∫≠p</button>
      <button class="auth-tab" data-tab="register" onclick="switchAuthTab('register')">ƒêƒÉng k√Ω</button>
      <button class="auth-tab" data-tab="forgot" onclick="switchAuthTab('forgot')">Qu√™n m·∫≠t kh·∫©u</button>
      <button class="auth-close" onclick="closeAuthModal()">‚úï</button>
    </div>

    <!-- Form ƒêƒÉng nh·∫≠p -->
    <div class="auth-form active" id="login-form">
      <h3>Ch√†o m·ª´ng tr·ªü l·∫°i</h3>
      <div class="field">
        <label>Email / S·ªë ƒëi·ªán tho·∫°i</label>
        <input type="text" id="login-email" placeholder="example@gmail.com" value="demo@nguyenkhuyen.edu.vn">
      </div>
      <div class="field">
        <label>M·∫≠t kh·∫©u</label>
        <div style="position:relative">
          <input type="password" id="login-password" placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢" value="123456">
          <span class="show-password" onclick="togglePassword('login-password')">üëÅÔ∏è</span>
        </div>
      </div>
      <div class="remember-row">
        <label><input type="checkbox" id="remember-me" checked> Ghi nh·ªõ ƒëƒÉng nh·∫≠p</label>
        <a href="#" onclick="switchAuthTab('forgot')">Qu√™n m·∫≠t kh·∫©u?</a>
      </div>
      <button class="btn-primary" style="width:100%" onclick="demoLogin()">ƒêƒÉng nh·∫≠p</button>
      <div class="social-login">
        <p>Ho·∫∑c ƒëƒÉng nh·∫≠p v·ªõi</p>
        <div class="social-buttons">
          <button class="social-btn" onclick="demoSocialLogin('google')">G</button>
          <button class="social-btn" onclick="demoSocialLogin('facebook')">f</button>
          <button class="social-btn" onclick="demoSocialLogin('zalo')">Z</button>
        </div>
      </div>
    </div>

    <!-- Form ƒêƒÉng k√Ω -->
    <div class="auth-form" id="register-form">
      <h3>T·∫°o t√†i kho·∫£n m·ªõi</h3>
      <div class="field-group">
        <div class="field"><label>H·ªç v√† t√™n</label><input type="text" id="reg-name" placeholder="Nguy·ªÖn VƒÉn A"></div>
        <div class="field"><label>Vai tr√≤</label>
          <select id="reg-role">
            <option>Ph·ª• huynh h·ªçc sinh</option>
            <option>H·ªçc sinh</option>
            <option>Gi√°o vi√™n</option>
            <option>Kh√°ch tham quan</option>
          </select>
        </div>
      </div>
      <div class="field"><label>Email</label><input type="email" id="reg-email" placeholder="example@gmail.com"></div>
      <div class="field"><label>S·ªë ƒëi·ªán tho·∫°i</label><input type="tel" id="reg-phone" placeholder="0912 345 678"></div>
      <div class="field"><label>M·∫≠t kh·∫©u</label><input type="password" id="reg-password" placeholder="T·ªëi thi·ªÉu 8 k√Ω t·ª±"></div>
      <div class="field"><label>Nh·∫≠p l·∫°i m·∫≠t kh·∫©u</label><input type="password" id="reg-password2" placeholder="Nh·∫≠p l·∫°i m·∫≠t kh·∫©u"></div>
      <label class="checkbox-row" style="display:flex;align-items:center;gap:0.5rem;margin:1rem 0">
        <input type="checkbox" id="reg-terms" checked> T√¥i ƒë·ªìng √Ω v·ªõi <a href="#">ƒêi·ªÅu kho·∫£n s·ª≠ d·ª•ng</a>
      </label>
      <button class="btn-primary" style="width:100%" onclick="demoRegister()">ƒêƒÉng k√Ω</button>
    </div>

    <!-- Form Qu√™n m·∫≠t kh·∫©u -->
    <div class="auth-form" id="forgot-form">
      <h3>Kh√¥i ph·ª•c m·∫≠t kh·∫©u</h3>
      <p class="mb-2" style="color:#666;font-size:0.9rem">Nh·∫≠p email c·ªßa b·∫°n, ch√∫ng t√¥i s·∫Ω g·ª≠i h∆∞·ªõng d·∫´n ƒë·∫∑t l·∫°i m·∫≠t kh·∫©u.</p>
      <div class="field"><label>Email</label><input type="email" id="forgot-email" placeholder="example@gmail.com"></div>
      <button class="btn-primary" style="width:100%" onclick="demoForgot()">G·ª≠i y√™u c·∫ßu</button>
      <div class="text-center mt-2">
        <a href="#" onclick="switchAuthTab('login')">‚Üê Quay l·∫°i ƒëƒÉng nh·∫≠p</a>
      </div>
    </div>
  </div>

  <!-- ===== NOTIFICATION PANEL ===== -->
  <div class="notif-dropdown" id="notifPanel">
    <div class="notif-header">
      <h4>Th√¥ng b√°o</h4>
      <button onclick="markAllNotifRead()">‚úì ƒê√°nh d·∫•u ƒë√£ ƒë·ªçc</button>
    </div>
    <div class="notif-list" id="notifList"></div>
    <div class="notif-footer">
      <a href="#" onclick="showAllNotif()">Xem t·∫•t c·∫£</a>
      <a href="#" onclick="openNotifSettings()">C√†i ƒë·∫∑t</a>
    </div>
  </div>

  <!-- ===== DASHBOARD CONTAINER ===== -->
  <div class="dashboard-container hidden" id="dashboardContainer">
    <div class="dashboard-header">
      <div class="dashboard-user">
        <div class="user-avatar" id="userAvatar">üë§</div>
        <div>
          <h2 id="userName">Nguy·ªÖn VƒÉn An</h2>
          <p class="user-role" id="userRole">Ph·ª• huynh h·ªçc sinh</p>
        </div>
      </div>
      <div class="dashboard-actions">
        <button class="btn-outline" onclick="logout()">ƒêƒÉng xu·∫•t</button>
      </div>
    </div>

    <div class="dashboard-tabs">
      <button class="dashboard-tab active" onclick="switchDashboardTab('overview')">T·ªïng quan</button>
      <button class="dashboard-tab" onclick="switchDashboardTab('grades')">H·ªçc b·∫°</button>
      <button class="dashboard-tab" onclick="switchDashboardTab('tuition')">H·ªçc ph√≠</button>
      <button class="dashboard-tab" onclick="switchDashboardTab('schedule')">L·ªãch h·ªçc</button>
      <button class="dashboard-tab" onclick="switchDashboardTab('documents')">T√†i li·ªáu</button>
      <button class="dashboard-tab" onclick="switchDashboardTab('feedback')">Ph·∫£n h·ªìi</button>
      <button class="dashboard-tab" onclick="switchDashboardTab('result')">Tra c·ª©u</button>
    </div>

    <!-- Tab: T·ªïng quan -->
    <div class="dashboard-content active" id="tab-overview">
      <div class="dashboard-grid">
        <div class="dashboard-card">
          <h3>üìã Th√¥ng tin c√° nh√¢n</h3>
          <div class="info-row"><span>M√£ s·ªë:</span> <span id="profile-id">NK-2024-0123</span></div>
          <div class="info-row"><span>Ng√†y sinh:</span> <span id="profile-dob">15/03/2009</span></div>
          <div class="info-row"><span>L·ªõp:</span> <span id="profile-class">11A1</span></div>
          <div class="info-row"><span>ƒê·ªãa ch·ªâ:</span> <span id="profile-address">123 L√™ L·ª£i, Q.1, TP.HCM</span></div>
          <div class="info-row"><span>Ph·ª• huynh:</span> <span id="profile-parent">Nguy·ªÖn VƒÉn B√¨nh (0912 345 678)</span></div>
          <button class="btn-edit" onclick="editProfile()">‚úèÔ∏è C·∫≠p nh·∫≠t th√¥ng tin</button>
        </div>

        <div class="dashboard-card">
          <h3>üìä K·∫øt qu·∫£ h·ªçc t·∫≠p</h3>
          <div class="gpa-circle">
            <span class="gpa-number" id="gpaValue">9.2</span>
            <span class="gpa-label">ƒêTB</span>
          </div>
          <div style="margin-top:1rem">
            <div class="info-row"><span>M√¥n cao nh·∫•t:</span> <strong>To√°n 9.5</strong></div>
            <div class="info-row"><span>X·∫øp lo·∫°i:</span> <strong class="grade-good">Gi·ªèi</strong></div>
            <div class="info-row"><span>H·∫°nh ki·ªÉm:</span> <strong class="conduct-good">T·ªët</strong></div>
          </div>
          <a href="#" onclick="switchDashboardTab('grades')" style="display:block;margin-top:1rem;color:var(--rust)">Xem chi ti·∫øt ‚Üí</a>
        </div>

        <div class="dashboard-card">
          <h3>üìÖ L·ªãch h·ªçc h√¥m nay</h3>
          <div id="todaySchedule">
            <div class="info-row"><span>7:30 - 9:00</span> <strong>To√°n - Ph√≤ng 201</strong></div>
            <div class="info-row"><span>9:15 - 10:45</span> <strong>V·∫≠t l√Ω - Lab 1</strong></div>
            <div class="info-row"><span>13:30 - 15:00</span> <strong>Ti·∫øng Anh - Ph√≤ng 105</strong></div>
          </div>
          <a href="#" onclick="switchDashboardTab('schedule')" style="display:block;margin-top:1rem;color:var(--rust)">Xem l·ªãch ƒë·∫ßy ƒë·ªß ‚Üí</a>
        </div>

        <div class="dashboard-card">
          <h3>üîî Th√¥ng b√°o g·∫ßn ƒë√¢y</h3>
          <div id="recentNotifs">
            <div class="info-row"><span>üìù L·ªãch thi HK2</span> <span style="color:var(--orange)">15/04</span></div>
            <div class="info-row"><span>üí∞ H·∫°n ƒë√≥ng h·ªçc ph√≠</span> <span style="color:var(--red)">30/04</span></div>
            <div class="info-row"><span>üé≠ VƒÉn ngh·ªá 26/3</span> <span>ƒêƒÉng k√Ω</span></div>
          </div>
          <a href="#" onclick="showAllNotif()" style="display:block;margin-top:1rem;color:var(--rust)">Xem t·∫•t c·∫£ ‚Üí</a>
        </div>
      </div>
    </div>

    <!-- Tab: H·ªçc b·∫° -->
    <div class="dashboard-content" id="tab-grades">
      <div class="dashboard-card">
        <h3>üìò H·ªçc b·∫° ƒëi·ªán t·ª≠ - H·ªçc k·ª≥ 1 (2025-2026)</h3>
        <div class="grade-filter">
          <select class="semester-select" id="semesterSelect" onchange="changeSemester()">
            <option value="hk1-2025">H·ªçc k·ª≥ 1 - 2025/2026</option>
            <option value="hk2-2025">H·ªçc k·ª≥ 2 - 2025/2026</option>
            <option value="ca-nam-2025">C·∫£ nƒÉm - 2024/2025</option>
          </select>
          <button class="btn-outline" style="color:var(--navy);border-color:var(--border)" onclick="exportTranscript()">üì• T·∫£i PDF</button>
        </div>

        <table class="grade-table">
          <thead>
            <tr>
              <th>M√¥n h·ªçc</th>
              <th>ƒêƒêG TX1</th><th>ƒêƒêG TX2</th><th>ƒêƒêG TX3</th>
              <th>ƒêƒêG GK</th><th>ƒêƒêG CK</th>
              <th>ƒêTB</th><th>X·∫øp lo·∫°i</th>
            </tr>
          </thead>
          <tbody id="gradeTableBody">
            <tr><td>To√°n</td><td>8.5</td><td>9.0</td><td>8.0</td><td>9.5</td><td>9.0</td><td>8.9</td><td>Gi·ªèi</td></tr>
            <tr><td>Ng·ªØ vƒÉn</td><td>7.5</td><td>8.0</td><td>8.5</td><td>8.0</td><td>8.5</td><td>8.2</td><td>Kh√°</td></tr>
            <tr><td>Ti·∫øng Anh</td><td>9.0</td><td>9.5</td><td>9.0</td><td>8.5</td><td>9.5</td><td>9.2</td><td>Gi·ªèi</td></tr>
            <tr><td>V·∫≠t l√Ω</td><td>8.0</td><td>8.5</td><td>7.5</td><td>8.0</td><td>8.5</td><td>8.2</td><td>Kh√°</td></tr>
            <tr><td>H√≥a h·ªçc</td><td>8.5</td><td>9.0</td><td>8.5</td><td>9.0</td><td>8.5</td><td>8.7</td><td>Gi·ªèi</td></tr>
            <tr><td>Sinh h·ªçc</td><td>7.5</td><td>8.0</td><td>7.0</td><td>7.5</td><td>8.0</td><td>7.7</td><td>Kh√°</td></tr>
            <tr><td>L·ªãch s·ª≠</td><td>8.0</td><td>8.5</td><td>9.0</td><td>8.0</td><td>8.5</td><td>8.4</td><td>Gi·ªèi</td></tr>
            <tr class="total-row"><td colspan="6" style="text-align:right">ƒêTB H·ªçc k·ª≥:</td><td>8.5</td><td>Gi·ªèi</td></tr>
          </tbody>
        </table>
      </div>
    </div>

    <!-- Tab: H·ªçc ph√≠ -->
    <div class="dashboard-content" id="tab-tuition">
      <div class="tuition-cards">
        <div class="tuition-card">
          <div class="tuition-header">Kh·ªëi 10</div>
          <div class="tuition-body">
            <div class="tuition-amount">12.500.000 ‚Ç´</div>
            <div class="tuition-desc">/ h·ªçc k·ª≥</div>
            <ul class="tuition-includes">
              <li>‚úì H·ªçc ph√≠ ch√≠nh kh√≥a</li>
              <li>‚úì Ph√≠ c∆° s·ªü v·∫≠t ch·∫•t</li>
              <li>‚úì B·∫£o hi·ªÉm y t·∫ø</li>
              <li>‚úó Ph√≠ ngo·∫°i kh√≥a</li>
            </ul>
            <button class="btn-primary" onclick="showTuitionDetail(10)">ƒêƒÉng k√Ω</button>
          </div>
        </div>
        <div class="tuition-card highlight">
          <div class="badge-hot">Ph·ªï bi·∫øn nh·∫•t</div>
          <div class="tuition-header">Kh·ªëi 11</div>
          <div class="tuition-body">
            <div class="tuition-amount">13.200.000 ‚Ç´</div>
            <div class="tuition-desc">/ h·ªçc k·ª≥</div>
            <ul class="tuition-includes">
              <li>‚úì H·ªçc ph√≠ ch√≠nh kh√≥a</li>
              <li>‚úì Ph√≠ c∆° s·ªü v·∫≠t ch·∫•t</li>
              <li>‚úì B·∫£o hi·ªÉm y t·∫ø</li>
              <li>‚úì 2 bu·ªïi ngo·∫°i kh√≥a</li>
            </ul>
            <button class="btn-primary" onclick="showTuitionDetail(11)">ƒêƒÉng k√Ω</button>
          </div>
        </div>
        <div class="tuition-card">
          <div class="tuition-header">Kh·ªëi 12</div>
          <div class="tuition-body">
            <div class="tuition-amount">14.000.000 ‚Ç´</div>
            <div class="tuition-desc">/ h·ªçc k·ª≥</div>
            <ul class="tuition-includes">
              <li>‚úì H·ªçc ph√≠ ch√≠nh kh√≥a</li>
              <li>‚úì Ph√≠ c∆° s·ªü v·∫≠t ch·∫•t</li>
              <li>‚úì Luy·ªán thi THPTQG</li>
              <li>‚úì T∆∞ v·∫•n h∆∞·ªõng nghi·ªáp</li>
            </ul>
            <button class="btn-primary" onclick="showTuitionDetail(12)">ƒêƒÉng k√Ω</button>
          </div>
        </div>
      </div>

      <div class="dashboard-card">
        <h3>üìã Chi ti·∫øt h·ªçc ph√≠ c·ªßa b·∫°n</h3>
        <table class="fee-table">
          <thead>
            <tr><th>Kho·∫£n m·ª•c</th><th>S·ªë ti·ªÅn</th><th>H·∫°n ƒë√≥ng</th><th>Tr·∫°ng th√°i</th></tr>
          </thead>
          <tbody>
            <tr><td>H·ªçc ph√≠ ch√≠nh kh√≥a</td><td>9.800.000 ‚Ç´</td><td>30/04/2026</td><td><span class="status-unpaid">Ch∆∞a ƒë√≥ng</span></td></tr>
            <tr><td>Ph√≠ c∆° s·ªü v·∫≠t ch·∫•t</td><td>2.500.000 ‚Ç´</td><td>30/04/2026</td><td><span class="status-unpaid">Ch∆∞a ƒë√≥ng</span></td></tr>
            <tr><td>B·∫£o hi·ªÉm y t·∫ø</td><td>680.000 ‚Ç´</td><td>30/04/2026</td><td><span class="status-paid">‚úÖ ƒê√£ ƒë√≥ng</span></td></tr>
            <tr class="total-row"><td>T·ªïng c·ªông</td><td>12.980.000 ‚Ç´</td><td colspan="2">C√≤n 12.300.000 ‚Ç´</td></tr>
          </tbody>
        </table>

        <div class="payment-methods mt-3">
          <h4>üí≥ Thanh to√°n tr·ª±c tuy·∫øn</h4>
          <div class="payment-options">
            <label class="payment-option">
              <input type="radio" name="payment" checked> üè¶ Chuy·ªÉn kho·∫£n
            </label>
            <label class="payment-option">
              <input type="radio" name="payment"> üí≥ Th·∫ª t√≠n d·ª•ng
            </label>
            <label class="payment-option">
              <input type="radio" name="payment"> üì± V√≠ MoMo
            </label>
          </div>
          <div class="bank-info">
            <p><strong>Ng√¢n h√†ng Vietcombank - CN TP.HCM</strong></p>
            <p>S·ªë TK: 0121 000 123456 - Ch·ªß TK: Tr∆∞·ªùng THPT Nguy·ªÖn Khuy·∫øn</p>
            <p>N·ªôi dung: [NK-2024-0123] Hoc phi HK2</p>
          </div>
          <button class="btn-primary btn-large" style="width:100%" onclick="processPayment()">üè¶ X√°c nh·∫≠n thanh to√°n</button>
        </div>
      </div>
    </div>

    <!-- Tab: L·ªãch h·ªçc -->
    <div class="dashboard-content" id="tab-schedule">
      <div class="dashboard-card">
        <h3>üóìÔ∏è Th·ªùi kh√≥a bi·ªÉu - Tu·∫ßn t·ª´ 01/03 - 07/03/2026</h3>
        <div class="schedule-grid">
          <div class="schedule-day">
            <div class="schedule-day-header">Th·ª© 2</div>
            <div class="schedule-item">7:30 To√°n 201</div>
            <div class="schedule-item">9:15 L√Ω Lab1</div>
            <div class="schedule-item">13:30 Anh 105</div>
          </div>
          <div class="schedule-day">
            <div class="schedule-day-header">Th·ª© 3</div>
            <div class="schedule-item">7:30 H√≥a 301</div>
            <div class="schedule-item">9:15 VƒÉn 102</div>
            <div class="schedule-item">13:30 Sinh 202</div>
          </div>
          <div class="schedule-day">
            <div class="schedule-day-header">Th·ª© 4</div>
            <div class="schedule-item">7:30 To√°n 201</div>
            <div class="schedule-item">9:15 S·ª≠ 104</div>
            <div class="schedule-item highlight">14:00 CLB Tin h·ªçc</div>
          </div>
          <div class="schedule-day">
            <div class="schedule-day-header">Th·ª© 5</div>
            <div class="schedule-item">7:30 L√Ω Lab1</div>
            <div class="schedule-item">9:15 ƒê·ªãa 103</div>
            <div class="schedule-item">13:30 GDCD 105</div>
          </div>
          <div class="schedule-day">
            <div class="schedule-day-header">Th·ª© 6</div>
            <div class="schedule-item">7:30 Anh 105</div>
            <div class="schedule-item">9:15 To√°n 201</div>
            <div class="schedule-item">13:30 H√≥a 301</div>
          </div>
          <div class="schedule-day">
            <div class="schedule-day-header">Th·ª© 7</div>
            <div class="schedule-item">7:30 Th·ªÉ d·ª•c</div>
            <div class="schedule-item">9:15 Tin h·ªçc 401</div>
          </div>
          <div class="schedule-day">
            <div class="schedule-day-header">CN</div>
            <div class="schedule-item">Ngh·ªâ</div>
          </div>
        </div>
      </div>
    </div>

    <!-- Tab: T√†i li·ªáu -->
    <div class="dashboard-content" id="tab-documents">
      <div class="library-cats">
        <button class="cat-btn active" onclick="filterDocs('all')">T·∫•t c·∫£</button>
        <button class="cat-btn" onclick="filterDocs('de-thi')">ƒê·ªÅ thi</button>
        <button class="cat-btn" onclick="filterDocs('bai-giang')">B√†i gi·∫£ng</button>
        <button class="cat-btn" onclick="filterDocs('tai-lieu')">T√†i li·ªáu</button>
      </div>

      <div class="library-search">
        <input type="text" id="docSearch" placeholder="T√¨m ki·∫øm t√†i li·ªáu...">
        <select id="docSubject">
          <option value="all">T·∫•t c·∫£ m√¥n</option>
          <option>To√°n</option>
          <option>VƒÉn</option>
          <option>Anh</option>
          <option>L√Ω</option>
          <option>H√≥a</option>
        </select>
        <button class="btn-primary" onclick="searchDocs()">üîç T√¨m</button>
      </div>

      <div class="doc-grid" id="docGrid">
        <div class="doc-card">
          <div class="doc-icon">üìÑ</div>
          <div class="doc-info">
            <h4>ƒê·ªÅ thi HK1 To√°n 11 (2025-2026)</h4>
            <p class="doc-meta">To√°n 11 ¬∑ 15 trang ¬∑ 2.4 MB</p>
            <div class="doc-tags">
              <span class="doc-tag">ƒê·ªÅ thi</span>
              <span class="doc-tag">HK1</span>
            </div>
          </div>
          <div class="doc-actions">
            <button class="btn-download" onclick="downloadDoc('toan-de1')">‚¨áÔ∏è</button>
            <button class="btn-preview" onclick="previewDoc('toan-de1')">üëÅÔ∏è</button>
          </div>
        </div>

        <div class="doc-card">
          <div class="doc-icon">üìä</div>
          <div class="doc-info">
            <h4>B·ªô ƒë·ªÅ luy·ªán thi HSG V·∫≠t l√Ω 12</h4>
            <p class="doc-meta">V·∫≠t l√Ω 12 ¬∑ 24 trang ¬∑ 3.1 MB</p>
            <div class="doc-tags">
              <span class="doc-tag">HSG</span>
              <span class="doc-tag">√în thi</span>
            </div>
          </div>
          <div class="doc-actions">
            <button class="btn-download" onclick="downloadDoc('ly-hsg')">‚¨áÔ∏è</button>
            <button class="btn-preview" onclick="previewDoc('ly-hsg')">üëÅÔ∏è</button>
          </div>
        </div>

        <div class="doc-card">
          <div class="doc-icon">üé•</div>
          <div class="doc-info">
            <h4>Video b√†i gi·∫£ng: Dao ƒë·ªông ƒëi·ªÅu h√≤a</h4>
            <p class="doc-meta">V·∫≠t l√Ω 12 ¬∑ 45 ph√∫t ¬∑ 120 MB</p>
            <div class="doc-tags">
              <span class="doc-tag">Video</span>
              <span class="doc-tag">B√†i gi·∫£ng</span>
            </div>
          </div>
          <div class="doc-actions">
            <button class="btn-download" onclick="downloadDoc('ly-video')">‚¨áÔ∏è</button>
            <button class="btn-play" onclick="playVideo()">‚ñ∂Ô∏è</button>
          </div>
        </div>

        <div class="doc-card">
          <div class="doc-icon">üìù</div>
          <div class="doc-info">
            <h4>ƒê·ªÅ c∆∞∆°ng √¥n t·∫≠p HK2 - Ng·ªØ vƒÉn 11</h4>
            <p class="doc-meta">Ng·ªØ vƒÉn 11 ¬∑ 8 trang ¬∑ 1.2 MB</p>
            <div class="doc-tags">
              <span class="doc-tag">ƒê·ªÅ c∆∞∆°ng</span>
              <span class="doc-tag">HK2</span>
            </div>
          </div>
          <div class="doc-actions">
            <button class="btn-download" onclick="downloadDoc('van-decuong')">‚¨áÔ∏è</button>
            <button class="btn-preview" onclick="previewDoc('van-decuong')">üëÅÔ∏è</button>
          </div>
        </div>
      </div>
    </div>

    <!-- Tab: Ph·∫£n h·ªìi -->
    <div class="dashboard-content" id="tab-feedback">
      <div class="feedback-form">
        <h3>üìù G·ª≠i ph·∫£n h·ªìi c·ªßa b·∫°n</h3>
        <div class="field">
          <label>Lo·∫°i ph·∫£n h·ªìi</label>
          <select id="feedback-type">
            <option>G√≥p √Ω v·ªÅ ch∆∞∆°ng tr√¨nh h·ªçc</option>
            <option>Ph·∫£n √°nh c∆° s·ªü v·∫≠t ch·∫•t</option>
            <option>Th·∫Øc m·∫Øc tuy·ªÉn sinh</option>
            <option>Khen ng·ª£i / C·∫£m ∆°n</option>
          </select>
        </div>
        <div class="field">
          <label>N·ªôi dung</label>
          <textarea id="feedback-content" rows="4" placeholder="Nh·∫≠p √Ω ki·∫øn c·ªßa b·∫°n..."></textarea>
        </div>
        <div class="field-group">
          <div class="field"><label>H·ªç t√™n</label><input type="text" id="feedback-name" value="Nguy·ªÖn VƒÉn An"></div>
          <div class="field"><label>Email</label><input type="email" id="feedback-email" value="an.nguyen@example.com"></div>
        </div>
        <div class="field">
          <label>ƒê√°nh gi√° m·ª©c ƒë·ªô h√†i l√≤ng</label>
          <div class="rating-stars" id="ratingStars">
            <span class="star" data-rating="1" onclick="setRating(1)">‚òÖ</span>
            <span class="star" data-rating="2" onclick="setRating(2)">‚òÖ</span>
            <span class="star" data-rating="3" onclick="setRating(3)">‚òÖ</span>
            <span class="star" data-rating="4" onclick="setRating(4)">‚òÖ</span>
            <span class="star" data-rating="5" onclick="setRating(5)">‚òÖ</span>
          </div>
        </div>
        <label class="checkbox-row" style="display:flex;align-items:center;gap:0.5rem;margin:1rem 0">
          <input type="checkbox" id="feedback-anonymous"> Cho ph√©p ƒëƒÉng c√¥ng khai (·∫©n danh)
        </label>
        <button class="btn-primary" onclick="submitFeedback()">G·ª≠i ph·∫£n h·ªìi</button>
      </div>

      <div class="mt-3">
        <h3>Ph·∫£n h·ªìi g·∫ßn ƒë√¢y</h3>
        <div class="feedback-item">
          <div class="fb-header">
            <span class="fb-name">Ph·ª• huynh l·ªõp 11A1</span>
            <span class="fb-date">2 ng√†y tr∆∞·ªõc</span>
            <span class="fb-badge">ƒê√£ x·ª≠ l√Ω</span>
          </div>
          <div class="fb-stars">‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ</div>
          <p class="fb-content">Ch·∫•t l∆∞·ª£ng gi·∫£ng d·∫°y r·∫•t t·ªët, c√°c th·∫ßy c√¥ nhi·ªát t√¨nh. Mong nh√† tr∆∞·ªùng c√≥ th√™m nhi·ªÅu ho·∫°t ƒë·ªông ngo·∫°i kh√≥a h∆°n n·ªØa.</p>
          <div class="fb-reply">
            <strong>Ph·∫£n h·ªìi t·ª´ nh√† tr∆∞·ªùng:</strong>
            <p>C·∫£m ∆°n qu√Ω ph·ª• huynh. Nh√† tr∆∞·ªùng s·∫Ω tƒÉng c∆∞·ªùng ho·∫°t ƒë·ªông ngo·∫°i kh√≥a trong h·ªçc k·ª≥ 2.</p>
          </div>
        </div>

        <div class="feedback-item">
          <div class="fb-header">
            <span class="fb-name">H·ªçc sinh 12A3</span>
            <span class="fb-date">5 ng√†y tr∆∞·ªõc</span>
            <span class="fb-badge pending">Ch·ªù x·ª≠ l√Ω</span>
          </div>
          <div class="fb-stars">‚òÖ‚òÖ‚òÖ‚òÖ‚òÜ</div>
          <p class="fb-content">Ph√≤ng th·ª±c h√†nh L√Ω c·∫ßn b·∫£o tr√¨ l·∫°i thi·∫øt b·ªã. M·ªôt s·ªë m√°y ƒëo kh√¥ng ho·∫°t ƒë·ªông.</p>
        </div>
      </div>
    </div>

    <!-- Tab: Tra c·ª©u k·∫øt qu·∫£ -->
    <div class="dashboard-content" id="tab-result">
      <div class="lookup-tabs">
        <button class="tab-result active" onclick="switchResultTab('grade9')">K·∫øt qu·∫£ thi v√†o 10</button>
        <button class="tab-result" onclick="switchResultTab('transfer')">Chuy·ªÉn tr∆∞·ªùng</button>
        <button class="tab-result" onclick="switchResultTab('scholarship')">H·ªçc b·ªïng</button>
      </div>

      <div class="lookup-form active" id="lookup-grade9">
        <div class="field-group">
          <div class="field">
            <label>S·ªë b√°o danh</label>
            <input type="text" id="sbd" placeholder="VD: NK-2026-0123" value="NK-2026-0123">
          </div>
          <div class="field">
            <label>Ng√†y sinh</label>
            <input type="date" id="dob" value="2009-03-15">
          </div>
        </div>
        <div class="field-group">
          <div class="field">
            <label>M√£ x√°c nh·∫≠n</label>
            <div class="captcha-box">
              <input type="text" id="captcha" placeholder="Nh·∫≠p m√£">
              <span class="captcha" id="captchaCode">5A3B</span>
              <button class="refresh-captcha" onclick="refreshCaptcha()">‚Üª</button>
            </div>
          </div>
        </div>
        <button class="btn-primary" style="width:100%" onclick="lookupResult()">Tra c·ª©u k·∫øt qu·∫£</button>
      </div>

      <!-- K·∫øt qu·∫£ tra c·ª©u -->
      <div class="result-card hidden" id="resultCard">
        <div class="result-header" id="resultHeader">
          <div class="result-icon" id="resultIcon">‚úÖ</div>
          <div>
            <h3 id="resultTitle">Ch√∫c m·ª´ng b·∫°n ƒë√£ tr√∫ng tuy·ªÉn!</h3>
            <p id="resultSubtitle">Th√≠ sinh: Nguy·ªÖn VƒÉn An ¬∑ SBD: NK-2026-0123</p>
          </div>
        </div>

        <div class="result-detail-grid" id="resultDetails"></div>

        <div class="result-actions" id="resultActions">
          <button class="btn-primary" onclick="confirmAdmission()">üìù X√°c nh·∫≠n nh·∫≠p h·ªçc</button>
          <button class="btn-outline" style="color:var(--navy);border-color:var(--border)" onclick="printResult()">üñ®Ô∏è In k·∫øt qu·∫£</button>
        </div>

        <div class="result-note" id="resultNote"></div>
      </div>
    </div>
  </div>

  <!-- ===== CHAT WIDGET ===== -->
  <div class="chat-button" onclick="toggleChat()">
    üí¨
    <span class="chat-badge">1</span>
  </div>

  <div class="chat-widget" id="chatWidget">
    <div class="chat-header">
      <div class="chat-title">
        <span class="chat-avatar">ü§ñ</span>
        <div>
          <h4>H·ªó tr·ª£ tuy·ªÉn sinh</h4>
          <p class="chat-status">üü¢ Online</p>
        </div>
      </div>
      <button class="chat-close" onclick="toggleChat()">‚Äî</button>
    </div>

    <div class="chat-messages" id="chatMessages">
      <div class="message bot">
        <div class="msg-content">Xin ch√†o! T√¥i l√† tr·ª£ l√Ω tuy·ªÉn sinh c·ªßa tr∆∞·ªùng THPT Nguy·ªÖn Khuy·∫øn. B·∫°n c·∫ßn h·ªó tr·ª£ g√¨ ·∫°?</div>
        <span class="msg-time">14:30</span>
      </div>
    </div>

    <div class="quick-replies">
      <button class="quick-btn" onclick="sendQuickMsg('h·ªçc ph√≠')">üí∞ H·ªçc ph√≠</button>
      <button class="quick-btn" onclick="sendQuickMsg('h·ªì s∆°')">üìã H·ªì s∆°</button>
      <button class="quick-btn" onclick="sendQuickMsg('l·ªãch thi')">üìÖ L·ªãch thi</button>
      <button class="quick-btn" onclick="sendQuickMsg('h·ªçc b·ªïng')">üèÜ H·ªçc b·ªïng</button>
    </div>

    <div class="chat-input-area">
      <input type="text" id="chatInput" placeholder="Nh·∫≠p tin nh·∫Øn..." onkeypress="if(event.key==='Enter') sendMessage()">
      <button class="send-btn" onclick="sendMessage()">üì§</button>
    </div>

    <div class="chat-footer">
      <span>‚è∞ Th·ª© 2 - Th·ª© 6: 8:00 - 17:00</span>
      <span>üìû G·ªçi: 028 3822 1234</span>
    </div>
  </div>

  <!-- ===== PREVIEW MODAL ===== -->
  <div class="modal-overlay" id="previewOverlay" onclick="closePreview()"></div>
  <div class="auth-modal" id="previewModal" style="max-width:800px">
    <div class="auth-tabs">
      <h4 style="padding:1rem">Xem tr∆∞·ªõc t√†i li·ªáu</h4>
      <button class="auth-close" onclick="closePreview()">‚úï</button>
    </div>
    <div class="p-4">
      <iframe id="previewFrame" style="width:100%;height:500px;border:none"></iframe>
      <div class="flex" style="justify-content:center;gap:1rem;margin-top:1rem">
        <button class="btn-primary" onclick="downloadCurrentDoc()">‚¨áÔ∏è T·∫£i xu·ªëng</button>
        <button class="btn-outline" style="color:var(--navy)" onclick="closePreview()">ƒê√≥ng</button>
      </div>
    </div>
  </div>

  <!-- ===== SCRIPT ===== -->
  <script>
    // ===== GLOBAL VARIABLES =====
    let currentUser = null;
    let currentRating = 0;
    let currentDoc = null;
    let notifications = [
      { id: 1, title: 'L·ªãch thi h·ªçc k·ª≥ 2', content: 'Thi To√°n ng√†y 15/04, ph√≤ng 201', time: '2 gi·ªù tr∆∞·ªõc', read: false, icon: 'üìÖ' },
      { id: 2, title: 'Nh·∫Øc nh·ªü ƒë√≥ng h·ªçc ph√≠', content: 'H·∫°n ƒë√≥ng h·ªçc ph√≠ HK2: 30/04/2026', time: '1 ng√†y tr∆∞·ªõc', read: false, icon: 'üí∞' },
      { id: 3, title: 'ƒêƒÉng k√Ω vƒÉn ngh·ªá 26/3', content: 'H·∫°n ƒëƒÉng k√Ω: 20/03/2026', time: '3 ng√†y tr∆∞·ªõc', read: true, icon: 'üé≠' }
    ];

    // ===== AUTH FUNCTIONS =====
    function openAuthModal(tab) {
      document.getElementById('authOverlay').classList.add('active');
      document.getElementById('authModal').classList.add('active');
      switchAuthTab(tab);
    }

    function closeAuthModal() {
      document.getElementById('authOverlay').classList.remove('active');
      document.getElementById('authModal').classList.remove('active');
    }

    function switchAuthTab(tab) {
      document.querySelectorAll('.auth-tab').forEach(t => t.classList.remove('active'));
      document.querySelector(`.auth-tab[data-tab="${tab}"]`).classList.add('active');
      document.querySelectorAll('.auth-form').forEach(f => f.classList.remove('active'));
      document.getElementById(tab + '-form').classList.add('active');
    }

    function togglePassword(id) {
      const input = document.getElementById(id);
      input.type = input.type === 'password' ? 'text' : 'password';
    }

    function demoLogin() {
      const email = document.getElementById('login-email').value;
      if (email) {
        currentUser = {
          name: 'Nguy·ªÖn VƒÉn An',
          role: 'Ph·ª• huynh h·ªçc sinh',
          email: email
        };
        closeAuthModal();
        showDashboard();
        addChatMessage('bot', 'Ch√†o m·ª´ng b·∫°n ƒë√£ ƒëƒÉng nh·∫≠p! B·∫°n c·∫ßn h·ªó tr·ª£ g√¨ kh√¥ng?');
        alert('ƒêƒÉng nh·∫≠p th√†nh c√¥ng! (Demo)');
      } else {
        alert('Vui l√≤ng nh·∫≠p email');
      }
    }

    function demoRegister() {
      const name = document.getElementById('reg-name').value;
      if (name) {
        alert('ƒêƒÉng k√Ω th√†nh c√¥ng! Vui l√≤ng ƒëƒÉng nh·∫≠p.');
        switchAuthTab('login');
      } else {
        alert('Vui l√≤ng nh·∫≠p ƒë·∫ßy ƒë·ªß th√¥ng tin');
      }
    }

    function demoForgot() {
      const email = document.getElementById('forgot-email').value;
      if (email) {
        alert('H∆∞·ªõng d·∫´n ƒë·∫∑t l·∫°i m·∫≠t kh·∫©u ƒë√£ ƒë∆∞·ª£c g·ª≠i ƒë·∫øn email c·ªßa b·∫°n!');
        closeAuthModal();
      } else {
        alert('Vui l√≤ng nh·∫≠p email');
      }
    }

    function demoSocialLogin(provider) {
      alert(`ƒêƒÉng nh·∫≠p b·∫±ng ${provider} (Demo)`);
      demoLogin();
    }

    function logout() {
      currentUser = null;
      document.getElementById('dashboardContainer').classList.add('hidden');
      showHome();
      alert('ƒê√£ ƒëƒÉng xu·∫•t');
    }

    function showDashboard() {
      document.getElementById('dashboardContainer').classList.remove('hidden');
      document.querySelectorAll('.dashboard-content').forEach(c => c.classList.remove('active'));
      document.getElementById('tab-overview').classList.add('active');
      document.querySelectorAll('.dashboard-tab').forEach(t => t.classList.remove('active'));
      document.querySelectorAll('.dashboard-tab')[0].classList.add('active');
      
      // C·∫≠p nh·∫≠t th√¥ng tin user
      if (currentUser) {
        document.getElementById('userName').textContent = currentUser.name;
        document.getElementById('userRole').textContent = currentUser.role;
      }
    }

    // ===== DASHBOARD TABS =====
    function switchDashboardTab(tab) {
      document.querySelectorAll('.dashboard-content').forEach(c => c.classList.remove('active'));
      document.getElementById(`tab-${tab}`).classList.add('active');
      document.querySelectorAll('.dashboard-tab').forEach(t => t.classList.remove('active'));
      event.target.classList.add('active');
    }

    // ===== NOTIFICATION FUNCTIONS =====
    function toggleNotifPanel() {
      document.getElementById('notifPanel').classList.toggle('active');
      loadNotifications();
    }

    function loadNotifications() {
      const list = document.getElementById('notifList');
      const unread = notifications.filter(n => !n.read).length;
      document.getElementById('navNotifBadge').textContent = unread;
      document.querySelector('.notif-badge').textContent = unread;

      list.innerHTML = notifications.map(n => `
        <div class="notif-item ${n.read ? '' : 'unread'}" onclick="markNotifRead(${n.id})">
          <div class="notif-icon">${n.icon}</div>
          <div class="notif-content">
            <div class="notif-title">${n.title}</div>
            <div class="notif-preview">${n.content}</div>
            <div class="notif-time">${n.time}</div>
          </div>
        </div>
      `).join('');
    }

    function markNotifRead(id) {
      const notif = notifications.find(n => n.id === id);
      if (notif) notif.read = true;
      loadNotifications();
    }

    function markAllNotifRead() {
      notifications.forEach(n => n.read = true);
      loadNotifications();
    }

    function showAllNotif() {
      toggleNotifPanel();
      switchDashboardTab('overview');
      alert('Hi·ªÉn th·ªã t·∫•t c·∫£ th√¥ng b√°o');
    }

    function openNotifSettings() {
      toggleNotifPanel();
      alert('M·ªü c√†i ƒë·∫∑t th√¥ng b√°o');
    }

    // ===== GRADE FUNCTIONS =====
    function changeSemester() {
      const semester = document.getElementById('semesterSelect').value;
      alert(`Chuy·ªÉn sang ${semester}`);
    }

    function exportTranscript() {
      alert('ƒêang t·∫£i h·ªçc b·∫° PDF...');
    }

    // ===== TUITION FUNCTIONS =====
    function showTuitionDetail(grade) {
      alert(`Xem chi ti·∫øt h·ªçc ph√≠ kh·ªëi ${grade}`);
    }

    function processPayment() {
      alert('Vui l√≤ng chuy·ªÉn kho·∫£n theo th√¥ng tin ng√¢n h√†ng b√™n d∆∞·ªõi.\nSau khi chuy·ªÉn, h·ªá th·ªëng s·∫Ω t·ª± ƒë·ªông c·∫≠p nh·∫≠t trong 5-10 ph√∫t.');
    }

    // ===== DOCUMENT FUNCTIONS =====
    function filterDocs(type) {
      document.querySelectorAll('.cat-btn').forEach(b => b.classList.remove('active'));
      event.target.classList.add('active');
      alert(`L·ªçc t√†i li·ªáu: ${type}`);
    }

    function searchDocs() {
      const keyword = document.getElementById('docSearch').value;
      const subject = document.getElementById('docSubject').value;
      alert(`T√¨m ki·∫øm: ${keyword} - M√¥n: ${subject}`);
    }

    function downloadDoc(id) {
      alert(`ƒêang t·∫£i t√†i li·ªáu ${id}...`);
    }

    function previewDoc(id) {
      currentDoc = id;
      document.getElementById('previewOverlay').classList.add('active');
      document.getElementById('previewModal').classList.add('active');
      document.getElementById('previewFrame').srcdoc = `
        <html><body style="padding:2rem;font-family:sans-serif">
          <h2>Xem tr∆∞·ªõc t√†i li·ªáu</h2>
          <p>ƒê√¢y l√† b·∫£n xem tr∆∞·ªõc c·ªßa t√†i li·ªáu ${id}</p>
          <p>N·ªôi dung demo - trong th·ª±c t·∫ø s·∫Ω hi·ªÉn th·ªã PDF ho·∫∑c h√¨nh ·∫£nh</p>
        </body></html>
      `;
    }

    function closePreview() {
      document.getElementById('previewOverlay').classList.remove('active');
      document.getElementById('previewModal').classList.remove('active');
    }

    function downloadCurrentDoc() {
      if (currentDoc) downloadDoc(currentDoc);
    }

    function playVideo() {
      alert('M·ªü video b√†i gi·∫£ng');
    }

    // ===== FEEDBACK FUNCTIONS =====
    function setRating(rating) {
      currentRating = rating;
      document.querySelectorAll('.rating-stars .star').forEach((s, i) => {
        if (i < rating) s.classList.add('active');
        else s.classList.remove('active');
      });
    }

    function submitFeedback() {
      const type = document.getElementById('feedback-type').value;
      const content = document.getElementById('feedback-content').value;
      if (!content) {
        alert('Vui l√≤ng nh·∫≠p n·ªôi dung ph·∫£n h·ªìi');
        return;
      }
      alert('C·∫£m ∆°n b·∫°n ƒë√£ g·ª≠i ph·∫£n h·ªìi! Ch√∫ng t√¥i s·∫Ω x·ª≠ l√Ω trong th·ªùi gian s·ªõm nh·∫•t.');
      document.getElementById('feedback-content').value = '';
      setRating(0);
    }

    // ===== RESULT LOOKUP FUNCTIONS =====
    function switchResultTab(tab) {
      document.querySelectorAll('.tab-result').forEach(t => t.classList.remove('active'));
      event.target.classList.add('active');
    }

    function refreshCaptcha() {
      const chars = 'ABCDEFGHJKLMNPQRSTUVWXYZ23456789';
      let captcha = '';
      for (let i = 0; i < 4; i++) {
        captcha += chars[Math.floor(Math.random() * chars.length)];
      }
      document.getElementById('captchaCode').textContent = captcha;
    }

    function lookupResult() {
      const sbd = document.getElementById('sbd').value;
      const resultCard = document.getElementById('resultCard');
      const resultDetails = document.getElementById('resultDetails');
      
      // Demo: gi·∫£ l·∫≠p k·∫øt qu·∫£
      const pass = Math.random() > 0.3;
      
      resultCard.classList.remove('hidden');
      
      if (pass) {
        document.getElementById('resultIcon').textContent = '‚úÖ';
        document.getElementById('resultTitle').textContent = 'Ch√∫c m·ª´ng b·∫°n ƒë√£ tr√∫ng tuy·ªÉn!';
        document.getElementById('resultSubtitle').textContent = `Th√≠ sinh: Nguy·ªÖn VƒÉn An ¬∑ SBD: ${sbd}`;
        resultDetails.innerHTML = `
          <div class="result-detail-item"><span class="rd-label">ƒêi·ªÉm To√°n</span><span class="rd-value">8.5</span></div>
          <div class="result-detail-item"><span class="rd-label">ƒêi·ªÉm VƒÉn</span><span class="rd-value">7.8</span></div>
          <div class="result-detail-item"><span class="rd-label">ƒêi·ªÉm Anh</span><span class="rd-value">9.0</span></div>
          <div class="result-detail-item"><span class="rd-label">ƒêi·ªÉm ∆∞u ti√™n</span><span class="rd-value">+0.5</span></div>
          <div class="result-detail-item total"><span class="rd-label">T·ªïng ƒëi·ªÉm</span><span class="rd-value">25.8</span></div>
        `;
        document.getElementById('resultNote').innerHTML = '‚ö†Ô∏è Th·ªùi gian x√°c nh·∫≠n nh·∫≠p h·ªçc t·ª´ 01/06 - 15/06/2026. Qu√° h·∫°n coi nh∆∞ h·ªßy k·∫øt qu·∫£.';
      } else {
        document.getElementById('resultIcon').textContent = 'üòî';
        document.getElementById('resultTitle').textContent = 'R·∫•t ti·∫øc, b·∫°n ch∆∞a tr√∫ng tuy·ªÉn';
        document.getElementById('resultSubtitle').textContent = `Th√≠ sinh: Nguy·ªÖn VƒÉn An ¬∑ SBD: ${sbd}`;
        resultDetails.innerHTML = `
          <div class="result-detail-item"><span class="rd-label">ƒêi·ªÉm c·ªßa b·∫°n</span><span class="rd-value">18.5</span></div>
          <div class="result-detail-item"><span class="rd-label">ƒêi·ªÉm chu·∫©n</span><span class="rd-value">22.0</span></div>
        `;
        document.getElementById('resultNote').innerHTML = 'B·∫°n c√≥ th·ªÉ ƒëƒÉng k√Ω x√©t tuy·ªÉn c√°c di·ªán kh√°c ho·∫∑c li√™n h·ªá t∆∞ v·∫•n.';
      }
    }

    function confirmAdmission() {
      alert('X√°c nh·∫≠n nh·∫≠p h·ªçc th√†nh c√¥ng! Vui l√≤ng ho√†n t·∫•t th·ªß t·ª•c tr∆∞·ªõc 15/06/2026.');
    }

    function printResult() {
      alert('ƒêang chu·∫©n b·ªã in k·∫øt qu·∫£...');
    }

    // ===== CHAT FUNCTIONS =====
    function toggleChat() {
      document.getElementById('chatWidget').classList.toggle('active');
    }

    function sendQuickMsg(topic) {
      document.getElementById('chatInput').value = topic;
      sendMessage();
    }

    function sendMessage() {
      const input = document.getElementById('chatInput');
      const msg = input.value.trim();
      if (!msg) return;

      addChatMessage('user', msg);
      input.value = '';

      // Simulate bot reply
      setTimeout(() => {
        let reply = '';
        if (msg.includes('h·ªçc ph√≠')) {
          reply = 'H·ªçc ph√≠ kh·ªëi 10 l√† 12.5 tri·ªáu/h·ªçc k·ª≥, kh·ªëi 11 l√† 13.2 tri·ªáu, kh·ªëi 12 l√† 14 tri·ªáu. B·∫°n mu·ªën bi·∫øt th√™m chi ti·∫øt kh√¥ng?';
        } else if (msg.includes('h·ªì s∆°')) {
          reply = 'H·ªì s∆° tuy·ªÉn sinh g·ªìm: ƒê∆°n ƒëƒÉng k√Ω, H·ªçc b·∫° THCS (b·∫£n sao), Gi·∫•y khai sinh, CCCD c·ªßa ph·ª• huynh, ·∫£nh 3x4.';
        } else if (msg.includes('l·ªãch thi')) {
          reply = 'L·ªãch thi HK2 d·ª± ki·∫øn t·ª´ 15-20/04/2026. L·ªãch thi chi ti·∫øt s·∫Ω ƒë∆∞·ª£c th√¥ng b√°o sau.';
        } else if (msg.includes('h·ªçc b·ªïng')) {
          reply = 'Nh√† tr∆∞·ªùng c√≥ c√°c su·∫•t h·ªçc b·ªïng t·ª´ 30% ƒë·∫øn 100% h·ªçc ph√≠ cho h·ªçc sinh gi·ªèi v√† h·ªçc sinh c√≥ ho√†n c·∫£nh kh√≥ khƒÉn.';
        } else {
          reply = 'C·∫£m ∆°n b·∫°n! Nh√¢n vi√™n t∆∞ v·∫•n s·∫Ω ph·∫£n h·ªìi trong v√†i ph√∫t n·ªØa.';
        }
        addChatMessage('bot', reply);
      }, 500);
    }

    function addChatMessage(sender, text) {
      const msgs = document.getElementById('chatMessages');
      const now = new Date();
      const time = `${now.getHours()}:${String(now.getMinutes()).padStart(2, '0')}`;
      
      const div = document.createElement('div');
      div.className = `message ${sender}`;
      div.innerHTML = `<div class="msg-content">${text}</div><span class="msg-time">${time}</span>`;
      msgs.appendChild(div);
      msgs.scrollTop = msgs.scrollHeight;
    }

    // ===== PROFILE FUNCTIONS =====
    function editProfile() {
      alert('M·ªü form c·∫≠p nh·∫≠t th√¥ng tin c√° nh√¢n');
    }

    // ===== LANGUAGE FUNCTIONS =====
    function switchLanguage(lang) {
      document.querySelectorAll('.lang-btn').forEach(b => b.classList.remove('active'));
      event.target.classList.add('active');
      alert(`Chuy·ªÉn sang ng√¥n ng·ªØ: ${lang === 'vi' ? 'Ti·∫øng Vi·ªát' : 'English'}`);
    }

    // ===== PAGE NAVIGATION =====
    function showHome() {
      document.getElementById('dashboardContainer').classList.add('hidden');
      // Trong th·ª±c t·∫ø s·∫Ω chuy·ªÉn v·ªÅ trang home
      alert('V·ªÅ trang ch·ªß');
    }

    function showSection(section) {
      document.getElementById('dashboardContainer').classList.add('hidden');
      alert(`Chuy·ªÉn ƒë·∫øn m·ª•c: ${section}`);
    }

    // ===== INIT =====
    document.addEventListener('DOMContentLoaded', function() {
      loadNotifications();
      refreshCaptcha();
    });
  </script>
</body>
</html>
